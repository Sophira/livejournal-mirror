<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type"><title>2. Console Command Reference</title><link rel="stylesheet" href="style.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.55.0"><style type="text/css">
body { background-image: url('http://docbook.sourceforge.net/release/images/draft.png');
       background-repeat: no-repeat;
       background-position: top left;
       /* The following properties make the watermark &quot;fixed&quot; on the page. */
       /* I think that's just a bit too distracting for the reader... */
       /* background-attachment: fixed; */
       /* background-position: center center; */
</style><link rel="home" href="index.html" title="LiveJournal Server"><link rel="up" href="lj.admin.console.html" title="Chapter 23. The Administrative Console"><link rel="previous" href="lj.admin.console.intro.html" title="1. Taking control of the Console"><link rel="next" href="lj.admin.sysban.html" title="Chapter 24. Banning Users"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2. Console Command Reference</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="lj.admin.console.intro.html">Prev</a> </td><th width="60%" align="center">Chapter 23. The Administrative Console</th><td width="20%" align="right"> <a accesskey="n" href="lj.admin.sysban.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><h2 class="title" style="clear: both"><a class="linkhere" href="#lj.admin.console.ref">»</a><a name="lj.admin.console.ref"></a>2. Console Command Reference</h2></div></div><p>
      Arguments are defined on a per command basis, and some arguments are required for the command to work.
      If you're ever stuck, you can simply type <b><tt>help <i><tt>command</tt></i></tt></b> 
      in the console for a short explanation of <i><tt>command</tt></i>. 
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
        Included with the installation is a live reference located at the URI 
        <tt>/admin/console/reference.bml</tt>
      </p></div><div class="variablelist"><p class="title"><b>Administrative Console Commands</b></p><dl><dt><span class="term"><tt>allow_open_proxy</tt></span></dt><dd><p>
Marks an IP address as not being an open proxy for the next 24 hours.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>ip. </b>The IP address to mark as clear.</p></li><li><p><b>forever. </b>Set to 'forever' if this proxy should be allowed forever.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>ban_list</tt></span></dt><dd><p>
List banned users.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>user. </b>Optional; list bans in a community you maintain, or any user if you have the 'finduser' priv.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>ban_set</tt></span></dt><dd><p>
Ban another user from posting in your journal.  In the future, banning a user will also prevent them from text messaging you, adding you as a friend, etc... Basically, banning somebody restricts their interaction with you severely.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>user. </b>This is the user which the logged in user wants to ban.</p></li><li><p><b>community. </b>Optional, to ban a user from a community you run.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>ban_unset</tt></span></dt><dd><p>
Remove a ban on a user.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>user. </b>The user that will be unbanned by the logged in user.</p></li><li><p><b>community. </b>Optional, to unban a user from a community you run.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>change_community_admin</tt></span></dt><dd><p>
Change the ownership of a community.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>community. </b>The username of the community.</p></li><li><p><b>new_owner. </b>The username of the new owner of the community.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>change_journal_status</tt></span></dt><dd><p>
Change the status of an account.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>account. </b>The account to update.</p></li><li><p><b>status. </b>One of 'normal', 'memorial', 'locked'.  Memorial accounts allow new comments to entries, locked accounts do not allow further comments.  Entries are blocked either way.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>change_journal_type</tt></span></dt><dd><p>
Change a journal's type.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>journal. </b>The username of the journal that type is changing.</p></li><li><p><b>type. </b>Either 'person', 'shared', or 'community'.</p></li><li><p><b>owner. </b>If converting from a person to a community, specify the person to be made maintainer in owner.  If going the other way from community/shared to a person, specify the account to adopt the email address and password of.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>community</tt></span></dt><dd><p>
Add or remove a member from a community.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>community. </b>The username of the community.</p></li><li><p><b>action. </b>Only <span class="bold"><b>remove</b></span> is supported right now.</p></li><li><p><b>user. </b>The user you want to remove from the community.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>deletetalk</tt></span></dt><dd><p>
Delete a comment.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>user. </b>The username of the journal comment is in.</p></li><li><p><b>itemid. </b>The itemid of the post to have a comment deleted from it.</p></li><li><p><b>talkid. </b>The talkid of the comment to be deleted.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>expunge_userpic</tt></span></dt><dd><p>
Expunge a user picture icon from the site.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>user. </b>The username of the picture owner.</p></li><li><p><b>picid. </b>The id of the picture to expunge.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>faqcat</tt></span></dt><dd><p>
Tool for managing FAQ categories.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>command. </b>One of: list, delete, add, move.  'list' shows all the defined FAQ
categories, including their catkey, name, and sortorder.  Also, it
shows all the distinct catkeys that are in use by FAQ.  'add' creates
or modifies a FAQ category.  'delete' removes a FAQ category (but not
the questions that are in it). 'move' moves a FAQ category up or down
in the list.
</p></li><li><p><b>commandargs. </b>'add' takes 3 arguments: a catkey, a catname, and a sort order field.
'delete' takes one argument: the catkey value.  'move' takes two
arguments: the catkey and either the word &quot;up&quot; or &quot;down&quot;.
</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>find_user_cluster</tt></span></dt><dd><p>
Finds the cluster that the given user's journal is on.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>user. </b>The user to locate.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>finduser</tt></span></dt><dd><p>
Find a user by a criteria.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>criteria. </b>Currently the only known criterias are 'email', 'userid', or 'user'</p></li><li><p><b>data. </b>The thing you know about the user, either their username, userid, or their email address.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>friend</tt></span></dt><dd><p>
List your friends, add a friend, or remove a friend.  Optionally, add friends to friend groups.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>command. </b>Either 'list' to list friend, 'add' to add a friend, or 'remove' to remove a friend.</p></li><li><p><b>username. </b>The username of the person to add or remove when using the add or remove command.</p></li><li><p><b>group. </b>When using command 'add', this optional parameter can list the name of a friend group to add the friend to.  The group must already exist.</p></li><li><p><b>fgcolor. </b>When using command 'add', this optional parameter specifies the foreground color associated with this friend. The parameter must have the form &quot;fgcolor=#num&quot; where 'num' is a 6-digit hexadecimal number.</p></li><li><p><b>bgcolor. </b>When using command 'add', this optional parameter specifies the background color associated with this friend. The parameter must have the form &quot;bgcolor=#num&quot; where 'num' is a 6-digit hexadecimal number.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>gencodes</tt></span></dt><dd><p>
Generate invite codes.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>username. </b>User to be given the codes</p></li><li><p><b>quantity. </b>Number of codes to generate</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>get_maintainer</tt></span></dt><dd><p>
Finds out the current maintainer(s) of a community or the communities that a user maintains.  If you pass a community as the argument, the maintainer(s) will be listed.  Otherwise, if you pass a user account, the account(s) they maintain will be listed.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>community or user name. </b>The username of the account you want to lookup.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>getemail</tt></span></dt><dd><p>
Get a user's email address. (for emailing them about TOS violations)
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>user. </b>The username of the person whose email address you'd like to see.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>help</tt></span></dt><dd><p>
Get help on admin console commands
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>command. </b>The command to get help on.  If ommitted, prints a list of commands.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>infohistory</tt></span></dt><dd><p>
Retrieve the infohistory of a given user
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>user. </b>The user whose infohistory is being retrieved.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>moodtheme_create</tt></span></dt><dd><p>
Create a new mood icon set.  Return value from this command is the moodthemeid that you'll need to define pictures for this theme.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>name. </b>Name of this theme, to appear in various places on the site</p></li><li><p><b>des. </b>Some description of the theme</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>moodtheme_list</tt></span></dt><dd><p>
List mood themes, or data about a mood theme
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>themeid. </b>Optional mood theme ID.  If given, you view the data for that theme, otherwise you see just a list of the available mood themes</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>moodtheme_public</tt></span></dt><dd><p>
Make a mood theme public or not.  You have to be a moodthememanager to do this.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>themeid. </b>Mood theme ID number.</p></li><li><p><b>setting. </b>Either 'Y' or 'N' to make it public or not public, respectively.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>moodtheme_setpic</tt></span></dt><dd><p>
Change data for a mood theme.  If picurl, width, or height is empty or zero, the data is deleted.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>themeid. </b>Mood theme ID number.</p></li><li><p><b>moodid. </b>Mood ID number.</p></li><li><p><b>picurl. </b>URL to picture to show for this moodid in this themeid.  If a public one, use /img/mood/themename/file.gif</p></li><li><p><b>width. </b>Width of picture</p></li><li><p><b>height. </b>Height of picture</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>print</tt></span></dt><dd><p>
This is a debugging function.  Given an arbitrary number of meaningless arguments, it'll print each one back to you.  If an argument begins with a bang (!) then it'll be printed to the error stream instead.
  </p></dd><dt><span class="term"><tt>priv</tt></span></dt><dd><p>
Grant or revoke user privileges.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>action. </b>'grant', 'revoke', or 'revoke_all' to revoke all args for a given priv</p></li><li><p><b>privs. </b>Comma-delimited list of priv names or priv:arg pairs</p></li><li><p><b>usernames. </b>Comma-delimited list of usernames</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>reset_email</tt></span></dt><dd><p>
Resets the email address for a given account
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>username. </b>The account to reset the email address for.</p></li><li><p><b>value. </b>Email address to set the account to.</p></li><li><p><b>reason. </b>Reason for the reset</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>reset_password</tt></span></dt><dd><p>
Resets the password for a given account
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>username. </b>The account to reset the email address for.</p></li><li><p><b>reason. </b>Reason for the password reset.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>set</tt></span></dt><dd><p>
Set a userprop.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>community. </b>Community to set property for, if you're a maintainer.</p></li><li><p><b>propname. </b>Property name to set.</p></li><li><p><b>value. </b>Value to set property to.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>shared</tt></span></dt><dd><p>
Add or remove access for a user to post in a shared journal.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>sharedjournal. </b>The username of the shared journal.</p></li><li><p><b>action. </b>Either <span class="bold"><b>add</b></span> or <span class="bold"><b>remove</b></span>.</p></li><li><p><b>user. </b>The user you want to add or remove from posting in the shared journal.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>suspend</tt></span></dt><dd><p>
Suspend a user's account.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>user. </b>The username of the person to suspend.</p></li><li><p><b>reason. </b>Why you're suspending the account.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>syn_editurl</tt></span></dt><dd><p>
Changes the syndication URL for a syndicated account.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>username. </b>The username of the syndicated journal.</p></li><li><p><b>newurl. </b>The new URL to syndicate the journal from.</p></li></ul></div><p>
  </p></dd><dt><span class="term"><tt>unsuspend</tt></span></dt><dd><p>
Unsuspend a user's account.
    </p><div class="itemizedlist"><p class="title"><b>Arguments:</b></p><ul type="disc"><li><p><b>user. </b>The username of the person to unsuspend.</p></li><li><p><b>reason. </b>Why you're unsuspending the account.</p></li></ul></div><p>
  </p></dd></dl></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="lj.admin.console.intro.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="lj.admin.console.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="lj.admin.sysban.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1. Taking control of the Console </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 24. Banning Users</td></tr></table></div></body></html>
