<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type"><title>2. Installing Perl Modules</title><link rel="stylesheet" href="style.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.55.0"><link rel="home" href="index.html" title="LiveJournal Server"><link rel="up" href="lj.install.perl_setup.html" title="Chapter 6. Perl"><link rel="previous" href="lj.install.perl_setup.install.html" title="1. Installing Perl"><link rel="next" href="lj.install.general_setup.html" title="Chapter 7. General Setup"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2. Installing Perl Modules</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="lj.install.perl_setup.install.html">Prev</a> </td><th width="60%" align="center">Chapter 6. Perl</th><td width="20%" align="right"> <a accesskey="n" href="lj.install.general_setup.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><h2 class="title" style="clear: both"><a class="linkhere" href="#lj.install.perl_setup.modules">»</a><a name="lj.install.perl_setup.modules"></a>2. Installing Perl Modules</h2></div></div><p>
      LiveJournal requires several Perl modules to be installed. Installing these
      modules requires a fully working perl and C development environment
      (including a C compiler and make tool).
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
      Some modules such as GD and Compress::Zlib require certain C libraries to be pre-installed
      on your machine in order to work. Please read the author-provided README files for each
      module before proceeding further.  
    </p></div><div class="table"><p class="title"><b>Table 6.1. Required Modules</b></p><table summary="Required Modules" border="0"><colgroup><col><col></colgroup><tbody><tr><td>DBI</td><td>libdbi-perl</td></tr><tr><td>DBD::mysql</td><td>libdbd-mysql-perl</td></tr><tr><td>Digest::MD5</td><td>libdigest-md5-perl</td></tr><tr><td>Digest::SHA1</td><td>libdigest-sha1-perl</td></tr><tr><td>Image::Size</td><td>libimage-size-perl</td></tr><tr><td>MIME::Lite</td><td>libmime-lite-perl</td></tr><tr><td>MIME::Words</td><td>libmime-perl</td></tr><tr><td>Compress::Zlib</td><td>libcompress-zlib-perl</td></tr><tr><td>MIME::Base64</td><td>libmime-base64-perl</td></tr><tr><td>URI::URL</td><td>liburi-perl</td></tr><tr><td>HTML::Tagset</td><td>libhtml-tagset-perl</td></tr><tr><td>HTML::Parser</td><td>libhtml-parser-perl</td></tr><tr><td>LWP::Simple</td><td>libwww-perl</td></tr><tr><td>LWP::UserAgent</td><td>libwww-perl</td></tr><tr><td>GD</td><td>libgd-perl</td></tr><tr><td>Mail::Address</td><td>libmailtools-perl</td></tr><tr><td>Unicode::MapUTF8</td><td>libunicode-maputf8-perl</td></tr><tr><td>Storable</td><td>libstorable-perl</td></tr><tr><td>Time::HiRes</td><td>libtime-hires-perl</td></tr><tr><td>IO::WrapTie</td><td> </td></tr></tbody></table></div><div class="variablelist"><p class="title"><b>Optional modules</b></p><dl><dt><span class="term">Net::SMTP, </span><span class="term">libnet-perl</span></dt><dd>Alternative to piping into sendmail to send mail.</dd><dt><span class="term">GD::Graph, </span><span class="term">libgd-graph-perl</span></dt><dd>Required to make graphs for the statistics page.</dd><dt><span class="term">Proc::ProcessTable, </span><span class="term">libproc-process-perl</span></dt><dd>Better reliability for starting daemons necessary for high-traffic installations.</dd><dt><span class="term">RPC::XML, </span><span class="term">librpc-xml-perl</span></dt><dd>Required for outgoing XMLRPC support</dd><dt><span class="term">SOAP::Lite, </span><span class="term">libsoap-lite-perl</span></dt><dd>Required for XML-RPC support.</dd><dt><span class="term">XML::RSS, </span><span class="term">libxml-rss-perl</span></dt><dd>Required for retrieving RSS off of other sites (syndication).</dd><dt><span class="term">String::CRC32, </span><span class="term">libstring-crc32-perl</span></dt><dd>Required for palette-altering of PNG files.  Only necessary if you plan to make your own S2 styles that use PNGs, not GIFs.</dd></dl></div><p><b>Debian Install. </b>If you're using Debian the following command should retrieve and build every required module:</p><pre class="screen"><tt>#</tt> <b><tt>apt-get install libdbi-perl libdbd-mysql-perl libdigest-md5-perl \
libdigest-sha1-perl libimage-size-perl libmime-lite-perl \
libmime-perl libcompress-zlib-perl libmime-base64-perl \
liburi-perl libhtml-tagset-perl libhtml-parser-perl \
libwww-perl libwww-perl libgd-perl \
libmailtools-perl libunicode-maputf8-perl libstorable-perl \
libtime-hires-perl  </tt></b></pre><p>And likewise for the optional modules:</p><pre class="screen"><tt>#</tt> <b><tt>apt-get install libnet-perl libgd-graph-perl libproc-process-perl \
librpc-xml-perl libsoap-lite-perl libxml-rss-perl \
libstring-crc32-perl </tt></b></pre><p><b>Using CPAN. </b>
    Otherwise you'll want to use CPAN to install the modules by performing the following steps:
  </p><p>From the root prompt on your server, invoke the CPAN shell:</p><pre class="screen"><tt>#</tt> <b><tt>perl -MCPAN -e shell</tt></b></pre><p>
  Once the Perl interpreter has loaded (and been configured), you can install
   modules by issuing the command <tt>install <i><tt>MODULENAME</tt></i></tt>.
</p><p>The first thing you should do is upgrade your CPAN:</p><pre class="screen"><tt>cpan&gt;</tt> <b><tt>install Bundle::CPAN</tt></b></pre><p>Once it's done, type:</p><pre class="screen"><tt>cpan&gt;</tt> <b><tt>reload cpan</tt></b></pre><p>Now, enter the following command to retrieve all of the required modules:</p><pre class="screen"><tt>cpan&gt;</tt> <b><tt>install DBI</tt></b>
<tt>cpan&gt;</tt> <b><tt>install DBD::mysql</tt></b>
<tt>cpan&gt;</tt> <b><tt>install Digest::MD5</tt></b>
<tt>cpan&gt;</tt> <b><tt>install Digest::SHA1</tt></b>
<tt>cpan&gt;</tt> <b><tt>install Image::Size</tt></b>
<tt>cpan&gt;</tt> <b><tt>install MIME::Lite</tt></b>
<tt>cpan&gt;</tt> <b><tt>install MIME::Words</tt></b>
<tt>cpan&gt;</tt> <b><tt>install Compress::Zlib</tt></b>
<tt>cpan&gt;</tt> <b><tt>install MIME::Base64</tt></b>
<tt>cpan&gt;</tt> <b><tt>install URI::URL</tt></b>
<tt>cpan&gt;</tt> <b><tt>install HTML::Tagset</tt></b>
<tt>cpan&gt;</tt> <b><tt>install HTML::Parser</tt></b>
<tt>cpan&gt;</tt> <b><tt>install LWP::Simple</tt></b>
<tt>cpan&gt;</tt> <b><tt>install LWP::UserAgent</tt></b>
<tt>cpan&gt;</tt> <b><tt>install GD</tt></b>
<tt>cpan&gt;</tt> <b><tt>install Mail::Address</tt></b>
<tt>cpan&gt;</tt> <b><tt>install Unicode::MapUTF8</tt></b>
<tt>cpan&gt;</tt> <b><tt>install Storable</tt></b>
<tt>cpan&gt;</tt> <b><tt>install Time::HiRes</tt></b>
<tt>cpan&gt;</tt> <b><tt>install IO::WrapTie</tt></b>
</pre><p>And likewise for the optional modules:</p><pre class="screen"><tt>cpan&gt;</tt> <b><tt>install Net::SMTP</tt></b>
<tt>cpan&gt;</tt> <b><tt>install GD::Graph</tt></b>
<tt>cpan&gt;</tt> <b><tt>install Proc::ProcessTable</tt></b>
<tt>cpan&gt;</tt> <b><tt>install RPC::XML</tt></b>
<tt>cpan&gt;</tt> <b><tt>install SOAP::Lite</tt></b>
<tt>cpan&gt;</tt> <b><tt>install XML::RSS</tt></b>
<tt>cpan&gt;</tt> <b><tt>install String::CRC32</tt></b>
</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
        There used to be a few custom <tt>LJ::</tt> modules that
        needed installing. Those no longer need to be installed on the system,
        as LJ uses them right out of <tt>/cgi-bin/*</tt> instead.
        If by chance you have those old LJ modules installed, it's best to go
        remove them since Perl will prefer system-level ones over the (newer)
        local ones.
      </p></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
      To ensure that you have installed the necessary modules, be sure to
      run the included tool: <tt><tt>$LJHOME</tt>/bin/checkconfig.pl</tt>. 
      If checkconfig.pl doesn't detect all of the
      required modules, it will tell you which ones you are missing. Note that this tool will
      fail after checking for modules, because it will also check for a database connection, which
      hasn't been set up yet. This will be fixed later when we add options to 
      checkconfig.pl to detect for specific sections of installation.
    </p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="lj.install.perl_setup.install.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="lj.install.perl_setup.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="lj.install.general_setup.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1. Installing Perl </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 7. General Setup</td></tr></table></div></body></html>
