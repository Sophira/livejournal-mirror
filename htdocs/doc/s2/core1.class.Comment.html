<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Comment Class</title>
<link rel="stylesheet" href="style.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="index.html" title="S2 Manual">
<link rel="up" href="siteapi.core1.html#core1.classes" title="1.3. Classes">
<link rel="prev" href="core1.class.Color.html" title="Color Class">
<link rel="next" href="core1.class.CommentInfo.html" title="CommentInfo Class">
<meta name="date" content="2008-Jun-03">
</head>
<body>
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">Comment Class</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="core1.class.Color.html">Prev</a> </td>
<th width="60%" align="center">1.3. Classes</th>
<td width="20%" align="right"> <a accesskey="n" href="core1.class.CommentInfo.html">Next</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="refentry" lang="en">
<a name="core1.class.Comment"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2><span class="refentrytitle">Comment Class</span></h2>
<p>Comment Class &#8212; A comment to a journal entry, or to another comment.</p>
</div>
<div class="refsect1" lang="en">
<a name="id2814748"></a><h2>Parent Class</h2>
<p> Child class of <a class="link" href="core1.class.EntryLite.html" title="EntryLite Class">EntryLite</a>.</p>
</div>
<div class="refsect1" lang="en">
<a name="id2814759"></a><h2>Members</h2>
<div class="variablelist"><dl>
<dt>
<a name="core1.member.Comment.anchor"></a><span class="term"><code class="varname"><a class="link" href="core1.class.string.html" title="string Class">string</a> anchor</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> Direct link to comment, via HTML name anchors</p></dd>
<dt>
<a name="core1.member.Comment.comment_posted"></a><span class="term"><code class="varname">bool comment_posted</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> True if comment was just posted by the current user.</p></dd>
<dt>
<a name="core1.member.Comment.deleted"></a><span class="term"><code class="varname">bool deleted</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> True if comment has been deleted. Deleted comments still show up if they are the parent of a thread.</p></dd>
<dt>
<a name="core1.member.Comment.depth"></a><span class="term"><code class="varname"><a class="link" href="core1.class.int.html" title="int Class">int</a> depth</code></span>
</dt>
<dd><p>Visual depth of entry.  Top-level journal entries are always depth zero.  Comments have a depth greater than or equal to one, depending on where the thread is rooted at.</p></dd>
<dt>
<a name="core1.member.Comment.dom_id"></a><span class="term"><code class="varname"><a class="link" href="core1.class.string.html" title="string Class">string</a> dom_id</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> The DOM 'id' attribute you should put on your outer-most element</p></dd>
<dt>
<a name="core1.member.Comment.edited"></a><span class="term"><code class="varname">bool edited</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> True if the comment has been edited.</p></dd>
<dt>
<a name="core1.member.Comment.edittime"></a><span class="term"><code class="varname"><a class="link" href="core1.class.DateTime.html" title="DateTime Class">DateTime</a> edittime</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> The GMT time the comment was edited.  Or undef if the comment hasn't been edited.</p></dd>
<dt>
<a name="core1.member.Comment.edittime_poster"></a><span class="term"><code class="varname"><a class="link" href="core1.class.DateTime.html" title="DateTime Class">DateTime</a> edittime_poster</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> The local time the comment was edited, in the commenter's timezone.  Or undef if anonymous comment, or commenter's timezone is unknown, or the comment hasn't been edited.</p></dd>
<dt>
<a name="core1.member.Comment.edittime_remote"></a><span class="term"><code class="varname"><a class="link" href="core1.class.DateTime.html" title="DateTime Class">DateTime</a> edittime_remote</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> The local time the comment was edited, in the remote user's (reader's) timezone.  Or undef if no remote user, or remote user hasn't set their timezone, or the comment hasn't been edited.</p></dd>
<dt>
<a name="core1.member.Comment.frozen"></a><span class="term"><code class="varname">bool frozen</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> True if comment is in frozen state.</p></dd>
<dt>
<a name="core1.member.Comment.full"></a><span class="term"><code class="varname">bool full</code></span>
</dt>
<dd><p>True if all information is available for this comment.  False if only the subject, poster, and date are available.  (collapsed threads)</p></dd>
<dt>
<a name="core1.member.Comment.journal"></a><span class="term"><code class="varname"><a class="link" href="core1.class.UserLite.html" title="UserLite Class">UserLite</a> journal</code></span>
</dt>
<dd><p>Journal the entry has been posted to</p></dd>
<dt>
<a name="core1.member.Comment.link_keyseq"></a><span class="term"><code class="varname"><a class="link" href="core1.class.string.html" title="string Class">string</a>[] link_keyseq</code></span>
</dt>
<dd><p>An array of keys which you should pass to <a class="link" href="core1.class.EntryLite.html#core1.meth.EntryLite.get_link(string%20key)">EntryLite.get_link(string key)</a> to produce an entry 'toolbar'. Does not contain nav_next and nav_prev for entries; you should retrieve those separately and put them somewhere appropriate for your layout.</p></dd>
<dt>
<a name="core1.member.Comment.metadata"></a><span class="term"><code class="varname"><a class="link" href="core1.class.string.html" title="string Class">string</a>{} metadata</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> Post metadata. Keys: 'music', 'mood'</p></dd>
<dt>
<a name="core1.member.Comment.parent_url"></a><span class="term"><code class="varname"><a class="link" href="core1.class.string.html" title="string Class">string</a> parent_url</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> URL to parent comment, or blank if a top-level comment.</p></dd>
<dt>
<a name="core1.member.Comment.permalink_url"></a><span class="term"><code class="varname"><a class="link" href="core1.class.string.html" title="string Class">string</a> permalink_url</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> A URL at which this specific entry can be viewed, for linking purposes.</p></dd>
<dt>
<a name="core1.member.Comment.poster"></a><span class="term"><code class="varname"><a class="link" href="core1.class.UserLite.html" title="UserLite Class">UserLite</a> poster</code></span>
</dt>
<dd><p>Author of the entry, or null if an anonymous comment</p></dd>
<dt>
<a name="core1.member.Comment.replies"></a><span class="term"><code class="varname"><a class="link" href="core1.class.Comment.html" title="Comment Class">Comment</a>[] replies</code></span>
</dt>
<dd><p>Comments replying to this comment.</p></dd>
<dt>
<a name="core1.member.Comment.reply_url"></a><span class="term"><code class="varname"><a class="link" href="core1.class.string.html" title="string Class">string</a> reply_url</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> URL to reply to this comment.</p></dd>
<dt>
<a name="core1.member.Comment.screened"></a><span class="term"><code class="varname">bool screened</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> True if comment is in screened state.</p></dd>
<dt>
<a name="core1.member.Comment.seconds_since_entry"></a><span class="term"><code class="varname"><a class="link" href="core1.class.int.html" title="int Class">int</a> seconds_since_entry</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> The number of elapsed seconds from the time of the journal entry until the comment was initially posted.</p></dd>
<dt>
<a name="core1.member.Comment.subject"></a><span class="term"><code class="varname"><a class="link" href="core1.class.string.html" title="string Class">string</a> subject</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> Subject.  May contain HTML.  Don't do substring chops on this.</p></dd>
<dt>
<a name="core1.member.Comment.subject_icon"></a><span class="term"><code class="varname"><a class="link" href="core1.class.Image.html" title="Image Class">Image</a> subject_icon</code></span>
</dt>
<dd><p>Subject icon, or null.</p></dd>
<dt>
<a name="core1.member.Comment.system_time"></a><span class="term"><code class="varname"><a class="link" href="core1.class.DateTime.html" title="DateTime Class">DateTime</a> system_time</code></span>
</dt>
<dd><p>The system time (in GMT) this entry or comment was posted.</p></dd>
<dt>
<a name="core1.member.Comment.tags"></a><span class="term"><code class="varname"><a class="link" href="core1.class.Tag.html" title="Tag Class">Tag</a>[] tags</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> Array of tags applied to this entry.</p></dd>
<dt>
<a name="core1.member.Comment.talkid"></a><span class="term"><code class="varname"><a class="link" href="core1.class.int.html" title="int Class">int</a> talkid</code></span>
</dt>
<dd><p>Server stored ID number for this comment.</p></dd>
<dt>
<a name="core1.member.Comment.text"></a><span class="term"><code class="varname"><a class="link" href="core1.class.string.html" title="string Class">string</a> text</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> Entry Text; Use <a class="link" href="core1.class.EntryLite.html#core1.meth.EntryLite.print_text()">EntryLite.print_text()</a> to print this so that the entry's trust level is not affected by your layer's trust level.</p></dd>
<dt>
<a name="core1.member.Comment.text_must_print_trusted"></a><span class="term"><code class="varname">bool text_must_print_trusted</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> Indicates that this entry's text contains some content that must be printed trusted, with <a class="link" href="core1.class.EntryLite.html#core1.meth.EntryLite.print_text()">EntryLite.print_text()</a>, rather than printed directly from an untrusted context. Use this to fall back to a plain trusted print if you are doing something unusual with <a class="link" href="core1.class.EntryLite.html#core1.member.EntryLite.text">EntryLite.text</a>. Most layers can just ignore this and always use <a class="link" href="core1.class.EntryLite.html#core1.meth.EntryLite.print_text()">EntryLite.print_text()</a>.</p></dd>
<dt>
<a name="core1.member.Comment.thread_url"></a><span class="term"><code class="varname"><a class="link" href="core1.class.string.html" title="string Class">string</a> thread_url</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> URL to view threaded rooted at this comment, or blank if comment has no children.</p></dd>
<dt>
<a name="core1.member.Comment.time"></a><span class="term"><code class="varname"><a class="link" href="core1.class.DateTime.html" title="DateTime Class">DateTime</a> time</code></span>
</dt>
<dd><p>The user-specified time of the post, or the GMT time if it's a comment.</p></dd>
<dt>
<a name="core1.member.Comment.time_poster"></a><span class="term"><code class="varname"><a class="link" href="core1.class.DateTime.html" title="DateTime Class">DateTime</a> time_poster</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> The local time the comment appeared, in the commenter's timezone.  Or undef if anonymous comment, or commenter's timezone is unknown.</p></dd>
<dt>
<a name="core1.member.Comment.time_remote"></a><span class="term"><code class="varname"><a class="link" href="core1.class.DateTime.html" title="DateTime Class">DateTime</a> time_remote</code></span>
</dt>
<dd><p><span class="strong"><strong>(Read-only)</strong></span> The local time the comment appeared, in the remote user's (reader's) timezone.  Or undef if no remote user, or remote user hasn't set their timezone.</p></dd>
<dt>
<a name="core1.member.Comment.userpic"></a><span class="term"><code class="varname"><a class="link" href="core1.class.Image.html" title="Image Class">Image</a> userpic</code></span>
</dt>
<dd><p>The userpic selected to relate to this entry.</p></dd>
</dl></div>
</div>
<div class="refsect1" lang="en">
<a name="id2815423"></a><h2>Methods</h2>
<div class="variablelist"><dl>
<dt>
<a name="core1.meth.Comment.edittime_display()"></a><span class="term"><code class="methodname">edittime_display() : <a class="link" href="core1.class.string.html" title="string Class">string</a></code></span>
</dt>
<dd><p>Show the time that this comment was edited, with most useful information for user.  Empty string if the comment hasn't been edited.</p></dd>
<dt>
<a name="core1.meth.Comment.edittime_display(string%20datefmt,%20string%20timefmt)"></a><span class="term"><code class="methodname">edittime_display(<a class="link" href="core1.class.string.html" title="string Class">string</a> datefmt, <a class="link" href="core1.class.string.html" title="string Class">string</a> timefmt) : <a class="link" href="core1.class.string.html" title="string Class">string</a></code></span>
</dt>
<dd><p>edittime_display, with customized date/time formats.</p></dd>
<dt>
<a name="core1.meth.Comment.expand_link()"></a><span class="term"><code class="methodname">expand_link() : <a class="link" href="core1.class.string.html" title="string Class">string</a></code></span>
</dt>
<dd><p>Returns a link to expand a collapsed comment. Uses the value of the 'text_comment_expand' property as the text. Will not work in untrusted layers.</p></dd>
<dt>
<a name="core1.meth.Comment.expand_link(string%7B%7D%20opts)"></a><span class="term"><code class="methodname">expand_link(<a class="link" href="core1.class.string.html" title="string Class">string</a>{} opts) : <a class="link" href="core1.class.string.html" title="string Class">string</a></code></span>
</dt>
<dd><p>Returns a link to expand a collapsed comment. Can pass options 'text', 'title', 'class', and 'img_url' (and other 'img_*' options). Will not work in untrusted layers.</p></dd>
<dt>
<a name="core1.meth.Comment.get_link(string%20key)"></a><span class="term"><code class="methodname">get_link(<a class="link" href="core1.class.string.html" title="string Class">string</a> key) : <a class="link" href="core1.class.Link.html" title="Link Class">Link</a></code></span>
</dt>
<dd><p>Get a link to some action related to this entry or comment. You can iterate over <a class="link" href="core1.class.EntryLite.html#core1.member.EntryLite.link_keyseq">EntryLite.link_keyseq</a> to get keys to pass in here to produce a 'toolbar' of links.</p></dd>
<dt>
<a name="core1.meth.Comment.get_plain_subject()"></a><span class="term"><code class="methodname">get_plain_subject() : <a class="link" href="core1.class.string.html" title="string Class">string</a></code></span>
</dt>
<dd><p>For Entries that can contain HTML subjects, this returns the subject without HTML.  Comments can't have HTML in subjects, so this is equivalent to just using $.subject.  The returned 'plain' subject may still contain HTML entities, so don't do substring chops on it either.</p></dd>
<dt>
<a name="core1.meth.Comment.get_tags_text()"></a><span class="term"><code class="methodname">get_tags_text() : <a class="link" href="core1.class.string.html" title="string Class">string</a></code></span>
</dt>
<dd><p>Returns a string containing a div of class 'ljtags' with the tags for the entry.  If there are no tags on the entry, returns a blank string.  The string is formatted according to the 'text_tags' property.</p></dd>
<dt>
<a name="core1.meth.Comment.print_edit_text()"></a><span class="term"><code class="methodname">print_edit_text() : void</code></span>
</dt>
<dd><p>Print the text that says when this comment was edited.</p></dd>
<dt>
<a name="core1.meth.Comment.print_expand_link()"></a><span class="term"><code class="methodname">print_expand_link() : <a class="link" href="core1.class.string.html" title="string Class">string</a></code></span>
</dt>
<dd><p>Prints a link to expand a collapsed comment. Uses the value of the 'text_comment_expand' property as the text.</p></dd>
<dt>
<a name="core1.meth.Comment.print_expand_link(string%7B%7D%20opts)"></a><span class="term"><code class="methodname">print_expand_link(<a class="link" href="core1.class.string.html" title="string Class">string</a>{} opts) : <a class="link" href="core1.class.string.html" title="string Class">string</a></code></span>
</dt>
<dd><p>Prints a link to expand a collapsed comment. Can pass options 'text', 'title', 'class', and 'img_url' (and other 'img_*' options).</p></dd>
<dt>
<a name="core1.meth.Comment.print_linkbar()"></a><span class="term"><code class="methodname">print_linkbar() : void</code></span>
</dt>
<dd><p>Print the link bar for this entry or comment.</p></dd>
<dt>
<a name="core1.meth.Comment.print_multiform_check()"></a><span class="term"><code class="methodname">print_multiform_check() : void</code></span>
</dt>
<dd><p>Prints the select checkbox in CSS class 'ljcomsel' with DOM id 'ljcomsel_$talkid' for a multi-action form started with <a class="link" href="core1.class.EntryPage.html#core1.meth.EntryPage.print_multiform_start()">EntryPage.print_multiform_start()</a>.</p></dd>
<dt>
<a name="core1.meth.Comment.print_reply_container()"></a><span class="term"><code class="methodname">print_reply_container() : void</code></span>
</dt>
<dd><p>Prints the area in which the quickreply box will go. If no container is available, quickreply will not work.</p></dd>
<dt>
<a name="core1.meth.Comment.print_reply_container(string%7B%7D%20opts)"></a><span class="term"><code class="methodname">print_reply_container(<a class="link" href="core1.class.string.html" title="string Class">string</a>{} opts) : void</code></span>
</dt>
<dd><p>Prints the area in which the quickreply box will go. You may 'class' which will be the CSS class used by the container. If no container is available, quickreply will not work.</p></dd>
<dt>
<a name="core1.meth.Comment.print_reply_link(string%7B%7D%20opts)"></a><span class="term"><code class="methodname">print_reply_link(<a class="link" href="core1.class.string.html" title="string Class">string</a>{} opts) : void</code></span>
</dt>
<dd><p>Prints a link to reply to the comment. You may specify the link text in the 'linktext' option, and the link CSS class in 'class'. You may also specify the url of an image to use as a button in 'img_url'.</p></dd>
<dt>
<a name="core1.meth.Comment.print_text()"></a><span class="term"><code class="methodname">print_text() : void</code></span>
</dt>
<dd><p>Print the entry text. Doesn't print anything in some contexts, such as on a month view or in a collapsed comment.</p></dd>
<dt>
<a name="core1.meth.Comment.time_display()"></a><span class="term"><code class="methodname">time_display() : <a class="link" href="core1.class.string.html" title="string Class">string</a></code></span>
</dt>
<dd><p>Show the time of this post, with most useful information for user, and with tooltip for more.</p></dd>
<dt>
<a name="core1.meth.Comment.time_display(string%20datefmt,%20string%20timefmt)"></a><span class="term"><code class="methodname">time_display(<a class="link" href="core1.class.string.html" title="string Class">string</a> datefmt, <a class="link" href="core1.class.string.html" title="string Class">string</a> timefmt) : <a class="link" href="core1.class.string.html" title="string Class">string</a></code></span>
</dt>
<dd><p>time_display, with customized date/time formats.</p></dd>
<dt>
<a name="core1.meth.Comment.time_display(string%20datefmt,%20string%20timefmt,%20bool%20edittime)"></a><span class="term"><code class="methodname">time_display(<a class="link" href="core1.class.string.html" title="string Class">string</a> datefmt, <a class="link" href="core1.class.string.html" title="string Class">string</a> timefmt, bool edittime) : <a class="link" href="core1.class.string.html" title="string Class">string</a></code></span>
</dt>
<dd><p>Same as EntryLite::time_display, except can pass in if we want the edit time or not.</p></dd>
</dl></div>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="core1.class.Color.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="siteapi.core1.html#core1.classes">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="core1.class.CommentInfo.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Color Class </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> CommentInfo Class</td>
</tr>
</table>
</div>
</body>
</html>
