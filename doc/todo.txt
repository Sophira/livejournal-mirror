+------------+
| Dislaimer: |
+------------+

    Don't try to make much sense of this list.  It's mainly for the
    core developers to keep track of things.

+----------------+
| Awaiting merge |
+----------------+

* option to strip target= on <a> on friends pages (halkeye)
* goatctl, cvsreport --init

+----------+
| dormando |
+----------+

* User journal stats
  - how to obtain (log grepping vs. update set count=count+1)
  - how to store/index
  - code to do it all & view
  - security userprop: who can view my journal's stats?
* Netsaint on mayor.
* Write new netsaint modules (warning if slaves are too far behind, 
  using an updated db_check script, etc.)

+------+
| avva |
+------+

HIGH PRIORITY:

* Goal: store as UTF-8 in database. 
  Benefit:
    - Always be able to produce valid XML
    - Multi-encoding friends pages.
    - No need to toggle browser "Encoding" option, 
      we can just add send text/html; charset=utf-8

  Research:
    - how can we tell from an HTTP post the encoding type?
    - when posting in mixed-encoding Unicode IE ??.? sends entities, 
       can we disable this and have it send in utf-8?
       the HTML spec mentions a form attribute 'accept-charset'
       but does anything obey it?
    - Unicode::MapUTF8 is great, if we can guess/tell the
      source encoding.
    - how do we 'upgrade' the old items in a lazy fashion,
      or we write a program to retroactively update everything?
    - do we force non-English users to upgrade their client?
      we might have to, sadly.
    - from the Win32 client, can we ask Windows what encoding
      it's using for a given widget before getting its data
      and sending it? 
  
  The postevent/editevent protocol should let them specify
  the encoding?  Or should the protocol handler be updated
  to reject posts that don't validated as UTF-8?  But then
  we break clients.  See above about upgrading clients.

  Add new userprop for default encoding for lazy conversion?

* RELEASE!  need maintained tarball release.  people don't like
  getting code from CVS.

  * write/revise release script (which must build docs too)
     - must take a scope argument to make 'livejournal' generic
       release or a 'local' release (which for us would be ljcom)
     - change dumpsql.pl to take a 'general' or 'local' scope arg
       and only dump SQL in that scope.
  * decide location/formats of compiled documentation.

* documentation: both producing raw docs, and our build/output system.

MEDIUM PRIORITY:

* journal titles vs. names:
    http://www.livejournal.com/talkread.bml?itemid=14018511

* postevent duplicate locking

* need a community admin page where the primary community
  admin can give/remove 'sharedjournal' privs to secondary admins

* fix LJ::get_itemid_{before|after} to respect security of $remote

* editjournal_do: clean HTML (marquees don't close, etc.)

FUTURE / LOW PRIORITY:

* talklib.pl (clean up / rewrite talk*.bml).  won't be important
  until bradfitz finishes S2.

+----------+
| bradfitz |
+----------+

HIGH PRIORITY:

* rewrite the account expiration logic
* "unpay" console command
* ljcom: automate username changes (payments and renaming)
  - use a '^do:' table in qbuffferd
* directory.
* S2.
* rate limiting
* add hooks to verify people aren't faking their paid user cookie

MISC:

* Syndicating channels:
     http://www.livejournal.com/talkread.bml?itemid=14311193
* htdocs/userpic: why use LJ::Cache at all if we're using disk now?
* htdocs/userpic: doesn't clean disk cache yet
* /fz/ joins on logtext (requires master) 
* talk* joins on logtext (requires master)
* cvsreport:
   * -c doesn't need to scan maind.. perf.
   * -s with args doesn't need to scan everything, just args.
* support: dakus wants to be able to mark requests as "still needs help"
* LJ::delete_user()
* require POST for all do actions (use LJ::did_post to check)
* ehtml current mood/music ?
* bug: multiple talkread delete: /support/see_request.bml?id=10159
* perf: don't preload friends in ljprotocol.pl:editfriends, check $sth->rows
* bmlp.pl command-line option to read BML file and emit just the _CODE
  blocks we can at least do things like: 
    $ ~/cgi-bin/bmlp.pl --perl ~/htdocs/foo.bml | perl -c

+-------------+
| Cleanliness |
+-------------+

* should never need to login as community!
  -- e.g. uploadpic/editinfo/etc needs to let community admins 
          select their community to modify while logged in as
          themselves
  -- start using auth_info_2 everywhere like editpics/uploadpic
* use LJ::send_mail everywhere, not sendmail pipe by hand
* XHTML compliant everywhere
* remove *_do.bml pages, merge into one page instead.

+----------------+
| Documentation: |
+----------------+

* LJDEP (halkeye, chrisg)
* LJFUNC (bradfitz)
* internals/system (dormando)
* BML (avva)
* guide
* BML
* INSTALL
    /inc/ protected

+--------+
| Future |
+--------+

* HTML email we send out with images should be the images in the MIME body
  and then HTML part reference those, not the ones on the site
* attach files to posts (good for groupware)
  -- new cap limits:  canattachfile, filemaxsize (0 for no limit)
* support system tweaks:
   - ugly green to blue
   - allow touching by helpers
   - allow 5 minute locks
   - allow full email address to be shown to helpers
* log merging 
* use <label> and accesskey= everywhere, for accessibility and
  people that hate the mouse.
* ability to further resrict HTML in comments in your journal:
  no marquee, no img, etc.
* respect user.status=="L" --> never let be modified, deleted, purged, etc
* journal-wide security: private, friends/group only, by password

+--------------+
| low priority |
+--------------+

* ability to turn off display of friend ofs / friends / community ofs
* remove necessity of menu_num arg in populate_web_menu 
* allowing @livejournal.com on create_do.bml, but not editinfo_do.bml
* on friends page, altposter posts show community mood theme, not owner's
* remove directories in BML... make just generic.look -> scheme.look

+-----------------+
| Meeting minutes |
+-----------------+
* new BML release? get bmlp.pl from livejournal, not bradfitz.com/bml
* directory rewrite sometime
* INERR undefined in livejournal?  no, it was.  weird.
* goatctl: toggle/reset goathack dev environment (idigital)
* two CVS: use collections (avva)
* list server ... get working, announce, use.
  * peer review of patches before mailing brad
* talkread/post library & abstraction for todo lists
* todo list maintainership (Mart)
* new install tarball -- upgrading -- yech:
  -- need translation stuff done; move text/code apart
* store as UTF-8 in database (avva investigating)
* community "member of" friend adding problem
* poll creator needs to be linked
* /press/* history.bml, qa.bml (opiummmm)
* rate limiting
* talkread screening (avva)
* image serving / expiration (evan)

