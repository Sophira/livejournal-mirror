<chapter id="lj.install.apache_setup">
  <chapterinfo>
    <title>Apache Configuration</title>
  </chapterinfo>
  <title>Apache Configuration</title>
  <formalpara>
    <title>Apache suEXEC Support</title>
    <para>
      If you want the LiveJournal code to run as a user other than what your webserver runs as, then you'll need suEXEC<footnote id="suEXEC"><para><ulink url="http://httpd.apache.org/docs/suexec.html">Official Apache suEXEC documentation</ulink></para></footnote> support in Apache.  You're free to figure that out yourself.  We'll assume your webserver is running as user 'lj', though it doesn't have to run as any certain user to work.
    </para>
  </formalpara>
  <formalpara>
    <title>Setting up a VirtualHost</title>
      <para>
        You need to add a <literal>&lt;VirtualHost&gt;</literal> section in Apache's httpd.conf file. Below is the most common <literal>&lt;VirtualHost&gt;</literal> setup, as an example.
        <note>
          <para><filename>/home/lj</filename> is only an example directory. You'll want to use the same directory used in <xref linkend="ljhome_var" />.</para>
        </note>
        <programlisting><![CDATA[<VirtualHost www.ljsite.com>
  ServerName www.ljsite.com
  ServerAlias ljsite.com *.ljsite.com

  PerlSetEnv    LJHOME /home/lj
  PerlRequire   /home/lj/cgi-bin/modperl.pl
</VirtualHost>]]>
        </programlisting>
      </para>
    </formalpara>
    <formalpara>
      <title>Apache Modules</title>
      <para>
        You'll need the following Apache modules running (either statically or as DSOs):
      </para>
      <para>
        <itemizedlist>
          <title>Standard:</title>
          <listitem><para>mod_mime</para></listitem>
          <listitem><para>mod_dir</para></listitem>
        </itemizedlist>
        <itemizedlist>
          <title>Special:</title>
          <listitem><para>mod_perl</para></listitem>
        </itemizedlist>
      </para>
  </formalpara>
</chapter>